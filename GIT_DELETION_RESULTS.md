# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ Git –∏—Å—Ç–æ—Ä–∏–∏

## –ó–∞–¥–∞—á–∞
–ù–∞–π—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É–¥–∞–ª–µ–Ω–∏–∏:
1. –§—É–Ω–∫—Ü–∏–∏ —Å ID `a0ab9dc8-671f-45ed-a5a9-a17f5e7fd34d` –∏–∑ `backend/func2url.json`
2. –ü–∞–ø–æ–∫ `backend/wordstat-regions/` –∏–ª–∏ `backend/regions/`

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

#### backend/func2url.json
```json
{
  "rsya-batch-worker": "...",
  "rsya-dlq-processor": "...",
  ... –≤—Å–µ–≥–æ 26 —Ñ—É–Ω–∫—Ü–∏–π
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ID `a0ab9dc8-671f-45ed-a5a9-a17f5e7fd34d` **–û–¢–°–£–¢–°–¢–í–£–ï–¢** –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ —Ñ–∞–π–ª–∞.

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ
–§—É–Ω–∫—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:
- **–§–∞–π–ª**: `src/components/clustering/CitiesStep.tsx`
- **–°—Ç—Ä–æ–∫–∞**: 54
- **–ö–æ–¥**:
  ```typescript
  const response = await fetch('https://functions.poehali.dev/a0ab9dc8-671f-45ed-a5a9-a17f5e7fd34d');
  ```
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤ Wordstat –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–æ–≤

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ backend/
–¢–µ–∫—É—â–∏–µ –ø–∞–ø–∫–∏ –≤ `backend/`:
```
backend/
‚îú‚îÄ‚îÄ admin/
‚îú‚îÄ‚îÄ api/
‚îú‚îÄ‚îÄ auth/
‚îú‚îÄ‚îÄ fetch-git-file/
‚îú‚îÄ‚îÄ func2url.json
‚îú‚îÄ‚îÄ get-base64/
‚îú‚îÄ‚îÄ get-chunks/
‚îú‚îÄ‚îÄ rsya-automation/
‚îú‚îÄ‚îÄ rsya-batch-worker/
‚îú‚îÄ‚îÄ rsya-block-worker/
‚îú‚îÄ‚îÄ rsya-dlq-processor/
‚îú‚îÄ‚îÄ rsya-health/
‚îú‚îÄ‚îÄ rsya-projects/
‚îú‚îÄ‚îÄ rsya-report-poller/
‚îú‚îÄ‚îÄ rsya-rotation/
‚îú‚îÄ‚îÄ rsya-scheduler/
‚îú‚îÄ‚îÄ save-git-file/
‚îú‚îÄ‚îÄ subscription/
‚îú‚îÄ‚îÄ wordstat-status/
‚îú‚îÄ‚îÄ yandex-blocked-platforms/
‚îú‚îÄ‚îÄ yandex-blocked-stats/
‚îú‚îÄ‚îÄ yandex-direct/
‚îú‚îÄ‚îÄ yandex-metrika-goals/
‚îú‚îÄ‚îÄ yandex-oauth/
‚îú‚îÄ‚îÄ yandex-platform-stats/
‚îî‚îÄ‚îÄ yandex-platforms/
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–∞–ø–∫–∏ `wordstat-regions/` –∏ `regions/` **–û–¢–°–£–¢–°–¢–í–£–Æ–¢**.

### 2. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ–≥–∏–æ–Ω–æ–≤

–í –ø—Ä–æ–µ–∫—Ç–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –¥—Ä—É–≥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Wordstat —Ä–µ–≥–∏–æ–Ω–∞–º–∏:

**ID**: `8b141446-430c-4c0b-b347-a0a2057c0ee8`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
1. `fetch-regions.js:4` - —Å–∫—Ä–∏–ø—Ç –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–≥–∏–æ–Ω–æ–≤
2. `test-regions.html:14` - —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
3. `src/pages/TestClustering.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. `src/pages/Wordstat.tsx:84` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Wordstat

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**:
```javascript
// fetch-regions.js
const url = 'https://functions.poehali.dev/8b141446-430c-4c0b-b347-a0a2057c0ee8';
```

```typescript
// src/pages/Wordstat.tsx
const response = await fetch('https://functions.poehali.dev/8b141446-430c-4c0b-b347-a0a2057c0ee8', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    keywords: keywords.split('\n').map(k => k.trim()).filter(k => k),
    regions: [parseInt(region)]
  })
});
```

**–°—Ç–∞—Ç—É—Å**: –¢–∞–∫–∂–µ **–ù–ï –ó–ê–†–ï–ì–ò–°–¢–†–ò–†–û–í–ê–ù–ê** –≤ `backend/func2url.json`.

### 3. –°–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π –≤ backend/func2url.json

–¢–µ–∫—É—â–∏–µ 26 –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:
1. rsya-batch-worker
2. rsya-dlq-processor
3. rsya-scheduler
4. rsya-report-poller
5. rsya-health
6. rsya-rotation
7. rsya-block-worker
8. rsya-automation
9. wordstat-status
10. get-chunks
11. get-base64
12. save-git-file
13. fetch-git-file
14. yandex-metrika-goals
15. yandex-platform-stats
16. yandex-blocked-stats
17. yandex-blocked-platforms
18. rsya-projects
19. yandex-oauth
20. admin
21. subscription
22. auth
23. api
24. yandex-direct
25. yandex-platforms

**–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç**:
- ‚ùå wordstat-regions (`a0ab9dc8-671f-45ed-a5a9-a17f5e7fd34d`)
- ‚ùå —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–≥–∏–æ–Ω–æ–≤ (`8b141446-430c-4c0b-b347-a0a2057c0ee8`)

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: Python (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
python3 quick_git_search.py
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –≤—ã–≤–µ–¥–µ—Ç:
- –•–µ—à –∫–æ–º–º–∏—Ç–∞ —É–¥–∞–ª–µ–Ω–∏—è
- –¢–æ—á–Ω—É—é –¥–∞—Ç—É —É–¥–∞–ª–µ–Ω–∏—è
- –°–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∞–ø–∫–∞—Ö —Å regions

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω—ã–µ Git –∫–æ–º–∞–Ω–¥—ã

**–ù–∞–π—Ç–∏ –∫–æ–º–º–∏—Ç —É–¥–∞–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏:**
```bash
git log --all -p -S "a0ab9dc8-671f-45ed-a5a9-a17f5e7fd34d" -- backend/func2url.json | head -50
```

**–ù–∞–π—Ç–∏ –ø–∞–ø–∫–∏ —Å regions:**
```bash
git log --all --name-only --format="" -- "backend/*regions*" | sort | uniq
```

**–ù–∞–π—Ç–∏ –∫–æ–º–º–∏—Ç —É–¥–∞–ª–µ–Ω–∏—è –ø–∞–ø–∫–∏:**
```bash
git log --all --diff-filter=D --format="%H|%aI|%s" -1 -- "backend/wordstat-regions/*"
git log --all --diff-filter=D --format="%H|%aI|%s" -1 -- "backend/regions/*"
```

## –§–æ—Ä–º–∞—Ç –æ–∂–∏–¥–∞–µ–º–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

### –î–ª—è —Ñ—É–Ω–∫—Ü–∏–∏:
```
commit: abc123def456789...
–î–∞—Ç–∞: 2024-11-XX 15:30:45 +0300
–°–æ–æ–±—â–µ–Ω–∏–µ: Remove unused wordstat-regions function from func2url.json

–£–¥–∞–ª—ë–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞:
-  "wordstat-regions": "https://functions.poehali.dev/a0ab9dc8-671f-45ed-a5a9-a17f5e7fd34d",
```

### –î–ª—è –ø–∞–ø–∫–∏:
```
commit: xyz789abc123456...
–î–∞—Ç–∞: 2024-11-XX 12:15:30 +0300
–°–æ–æ–±—â–µ–Ω–∏–µ: Clean up unused backend functions

–£–¥–∞–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
 delete mode 100644 backend/wordstat-regions/index.py
 delete mode 100644 backend/wordstat-regions/requirements.txt
 delete mode 100644 backend/wordstat-regions/tests.json
```

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `CitiesStep.tsx` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π endpoint:
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–≥–∏–æ–Ω—ã —Å `a0ab9dc8-671f-45ed-a5a9-a17f5e7fd34d`
- –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ `func2url.json`
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–≥–∏–æ–Ω–æ–≤

### ‚ö†Ô∏è  –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ
–§—É–Ω–∫—Ü–∏—è `8b141446-430c-4c0b-b347-a0a2057c0ee8`:
- –ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ 4 –º–µ—Å—Ç–∞—Ö –∫–æ–¥–∞
- –ù–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ `func2url.json`
- –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ URL

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏
–î–æ–±–∞–≤–∏—Ç—å –≤ `backend/func2url.json`:
```json
{
  ...
  "wordstat-regions": "https://functions.poehali.dev/a0ab9dc8-671f-45ed-a5a9-a17f5e7fd34d",
  "wordstat-get-regions": "https://functions.poehali.dev/8b141446-430c-4c0b-b347-a0a2057c0ee8",
  ...
}
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–±–Ω–æ–≤–∏—Ç—å CitiesStep
–ó–∞–º–µ–Ω–∏—Ç—å ID –≤ `src/components/clustering/CitiesStep.tsx:54`:
```typescript
// –ë—ã–ª–æ:
const response = await fetch('https://functions.poehali.dev/a0ab9dc8-671f-45ed-a5a9-a17f5e7fd34d');

// –°—Ç–∞–ª–æ:
const response = await fetch('https://functions.poehali.dev/8b141446-430c-4c0b-b347-a0a2057c0ee8');
```

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ Git
–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –±—ã–ª–∞ —É–¥–∞–ª–µ–Ω–∞ –ø–æ –æ—à–∏–±–∫–µ:
```bash
# –ù–∞–π—Ç–∏ –∫–æ–º–º–∏—Ç —É–¥–∞–ª–µ–Ω–∏—è
git log --all -S "a0ab9dc8-671f-45ed-a5a9-a17f5e7fd34d" -- backend/func2url.json

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –∫–æ–º–º–∏—Ç–∞ –î–û —É–¥–∞–ª–µ–Ω–∏—è
git show <COMMIT_HASH>^:backend/func2url.json | grep "a0ab9dc8"
```

## –§–∞–π–ª—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ Git –∏—Å—Ç–æ—Ä–∏–∏:

1. **quick_git_search.py** ‚≠ê - –ë—ã—Å—Ç—Ä—ã–π –∞–Ω–∞–ª–∏–∑ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
2. **git_analysis_report.py** - –ü–æ–ª–Ω—ã–π –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç
3. **find_deletion.sh** - Bash —Å–∫—Ä–∏–ø—Ç
4. **git-history-check.js** - Node.js –≤–µ—Ä—Å–∏—è
5. **analyze_git.py** - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π Python —Å–∫—Ä–∏–ø—Ç
6. **check_git_history.sh** - –î–µ—Ç–∞–ª—å–Ω—ã–π bash —Å–∫—Ä–∏–ø—Ç

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **FIND_DELETION_README.md** - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–∏—Å–∫—É
- **GIT_DELETION_ANALYSIS.md** - –ê–Ω–∞–ª–∏–∑ –∏ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è
- **GIT_DELETION_RESULTS.md** (—ç—Ç–æ—Ç —Ñ–∞–π–ª) - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å `python3 quick_git_search.py` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω—ã—Ö —Ö–µ—à–µ–π –∏ –¥–∞—Ç
2. ‚ö†Ô∏è  –†–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å CitiesStep.tsx (—Ñ—É–Ω–∫—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
3. ‚ö†Ô∏è  –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ func2url.json
4. üìù –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π

---

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞**: 2025-11-08  
**–ü—Ä–æ–µ–∫—Ç**: yandex-cleaning-service  
**–¢–µ–∫—É—â–∏–π —Ä–æ—É—Ç**: /clustering/231  
**–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã–π —Ñ–∞–π–ª**: backend/func2url.json  
**–°—Ç–∞—Ç—É—Å**: –§—É–Ω–∫—Ü–∏–∏ —É–¥–∞–ª–µ–Ω—ã –∏–ª–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã  

---

## –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
python3 quick_git_search.py > git_results.txt

# –ò–ª–∏
python3 git_analysis_report.py > full_report.txt
```

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫–∞–∂—É—Ç:
- ‚úÖ –•–µ—à –∫–æ–º–º–∏—Ç–∞ —É–¥–∞–ª–µ–Ω–∏—è
- ‚úÖ –î–∞—Ç—É —É–¥–∞–ª–µ–Ω–∏—è
- ‚úÖ –ê–≤—Ç–æ—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∞–ø–∫–∞—Ö
